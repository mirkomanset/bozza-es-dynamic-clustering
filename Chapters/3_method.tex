\section{Method}\label{sec:method}

This section presents the proposed framework for dynamic clustering in evolving
data streams, designed to capture both short-term structural changes and
long-term recurrence patterns through extended cluster transition modeling and
new clusters similarity measures.

\subsection{New Transition Types}\label{subsec:new_transitions}

This work extends traditional cluster evolution events by introducing three
recurrence-aware transitions:

\textbf{Reappearance}: A previously disappeared cluster re-emerges. If $C_i^t \rightarrow \emptyset$ and later $C_j^\tau$ appears with $\tau > t$, then $C_j^\tau$ is a reappearance of $C_i^t$ if $C_i^t \circledast C_j^\tau$.

\textbf{Remerge}: A previously split cluster reassembles. If $C_i^t \rightarrow \{C_1^{t+1}, \dots, C_v^{t+1}\}$ and these clusters later merge $\{C_1^{\tau - 1}, \dots, C_v^{\tau - 1}\} \rightarrow C_j^{\tau}$, then $C_j^{\tau}$ is a remerge of $C_i^t$ if $C_i^t \circledast C_j^{\tau}$.

\textbf{Resplit}: The converse of remerge. If $\{C_1^t, \dots, C_u^t\} \rightarrow C_i^{t+1}$ and later $C_i^{\tau - 1} \rightarrow \{C_1^{\tau}, \dots, C_u^{\tau}\}$, this is a resplit if $\forall j, C_j^t \circledast C_j^{\tau}$.

\subsection{Overlapping Scores}\label{overlapping_scores}

Two overlapping scores quantify cluster similarity and guide transition
detection:

\textbf{Spherical Overlapping Score (SOS)} for approximately spherical clusters with centers $\boldsymbol{\mu}_i, \boldsymbol{\mu}_j$ and radii $r_i, r_j$:
\[
    \text{SOS}(C_i, C_j) = 2^{- \frac{||\boldsymbol{\mu}_i - \boldsymbol{\mu}_j||_2}{r_i + r_j}}.
\]

\textbf{Effective Overlapping Score (EffectiveOS)} for Gaussian clusters, generalizing \textsc{SOS} using Mahalanobis distance:

{\scriptsize
\begin{align}
    \text{EffectiveOS}(C_i, C_j)                & = 2^{- \frac{d_M(\boldsymbol{\mu}_i, \boldsymbol{\mu}_j)}{\text{EffSize}_i + \text{EffSize}_j}},                    \\
    d_M(\boldsymbol{\mu}_i, \boldsymbol{\mu}_j) & = \sqrt{(\boldsymbol{\mu}_i - \boldsymbol{\mu}_j)^\top \Sigma_{ij}^{-1} (\boldsymbol{\mu}_i - \boldsymbol{\mu}_j)}, \\
    \Sigma_{ij}                                 & = \frac{\Sigma_i + \Sigma_j}{2},
\end{align}}

where $\text{EffSize}_i = \sqrt{\frac{1}{d} \sum_{\ell=1}^{d} (\chi^2_\alpha
        \sqrt{\lambda_{\ell,i}})^2}$ with eigenvalues $\lambda_{\ell,i}$ and
chi-squared critical value $\chi^2_\alpha$.

Both \textsc{SOS} and \textsc{EffectiveOS} produce scores in $(0,1]$, which can
be interpreted as probability-like measures of cluster proximity or
evolutionary relation. A natural threshold around $0.5$ distinguishes clusters
that are likely related over time from those that are essentially separate.

\subsection{Dynamic Clustering Framework}\label{subsec:dynamic_clustering_framework}

The proposed framework is modular, consisting of five integrated components.

\paragraph{Online phase (micro-clustering).}
Streaming data is summarized into compact statistical representations in real
time. In this thesis \textsc{CluStream}~\cite{clustream} micro-clustering is
employed to ensure efficiency under memory and latency constraints while
retaining essential structure.

\input{algorithms/clustream}

\paragraph{Triggering strategy.}
A strategy determines when to perform macro-clustering. Here, a \emph{fixed
    time interval} approach is used, consistent with the original
\textsc{CluStream} design.

\paragraph{Offline phase (macro-clustering).}
Micro-clusters are aggregated into higher-level groups. Gaussian Mixture Models
provide flexible representations in which the number of clusters can adapt
dynamically to capture complex evolving structures.

\paragraph{History module.}
Minimal descriptors of past clusters are maintained to track long-term
dynamics, enabling detection of recurrence patterns such as reappearance,
remerge, and resplit.

\paragraph{Tracking module.}
Macro-clusters across different time steps are compared using \textsc{EffectiveOS} to
identify structural changes and reconstruct historical trajectories.

\begin{figure}[H]
    \centering
    \includegraphics[width=1\linewidth]{Images/my_images/architecture.png}
    \caption{Proposed architecture for the dynamic clustering framework.}
\end{figure}

The framework produces comprehensive reports, including graph-based
visualizations of cluster transitions, spatial trajectories of macro-cluster
evolution, and representative data samples.

Although specific methods are implemented here, the modular design allows each
component to be replaced or extended without affecting the overall
architecture.